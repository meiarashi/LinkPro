# LinkPro AI人材マッチングプラットフォーム 開発TODO リスト
更新日: 2025年1月17日（エラーハンドリング・UX改善、プロフィール充実度実装）

## 🔴 最優先事項（AI人材マッチング特化の実装）

### AI人材特化機能の実装（フェーズ1: 2週間）
- [x] 既存テーブルの拡張（0.5日）✅ 2025年1月14日完了
  - [x] profiles.profile_detailsにAI関連フィールド追加
    - ai_skills（AIスキルタイプ配列）
    - ai_tools（使用可能なAIツール配列）
    - ai_experience（AI活用経験）
    - ai_achievements（AI活用実績テキスト）
  - [x] ~~projects.pro_requirementsをai_requirementsとして活用~~ → 不要と判断
    - pm_requirementsは存在せず、pro_requirementsカラムがある
    - クライアントがAI要件を詳しく書けないため、この機能は不要
- [x] 新規テーブルの作成（0.5日）✅ 部分的に完了
  - [x] matching_scoresテーブル（マッチングスコア）✅ 2025年1月16日実装
  - [x] ai_use_casesテーブル（活用事例）→ 作成後、シンプルな実績テキストに変更し削除
  - [ ] project_templatesテーブル（案件テンプレート）：あると便利だが後でもいい
- [x] AI人材向けプロフィール画面の実装（3日）✅ 2025年1月14日完了
  - [x] 既存のprofile編集画面を拡張
  - [x] AI人材スキル選択UI追加（4タイプ：エキスパート/開発者/活用者/支援者）
  - [x] AIツール経験チェックリスト追加（15種類のツール＋その他追加可能）
  - [x] 業務活用経験入力セクション追加（経験年数、活用領域）
  - [x] AI活用実績登録機能（シンプルなテキストエリア形式で実装）
- [x] ~~AI案件作成機能の拡張（2日）~~ → 不要と判断（クライアントはAIの詳細要件を書けない）
  - クライアント側は「〇〇を自動化したい」「AIで効率化したい」程度の要望
  - AI人材側が提案する形の方が現実的
  - 既存のプロジェクト作成機能で十分
- [x] 基本的なマッチング機能（3日）✅ 2025年1月16日完了
  - [x] SQLトリガーによる自動マッチング実装
  - [x] プロジェクト公開時に全AI人材のスコア計算
  - [x] レベル適合度の計算（30点満点）
  - [x] AIツール一致度の計算（25点満点）
  - [x] 業務領域マッチング（20点満点）
  - [x] 経験年数スコア（15点満点）
  - [x] 稼働可能性スコア（10点満点）
  - [x] matching_scoresテーブルへの保存
  - [x] 上位5名（同点含む）への自動通知
- [x] プロフェッショナル一覧の改良（1日）✅ 2025年1月14日完了
  - [x] AIスキルタイプ（エキスパート/開発者/活用者/支援者）の表示
  - [x] 使用可能なAIツールの表示
  - [x] AIツール・スキルタイプでの検索機能追加
  - [x] ~~AI人材バッジ~~ → 全員AI人材なので不要
- [x] プロフェッショナル一覧の検索・フィルター機能（0.5日）✅ 2025年1月14日完了
  - [x] AIスキルタイプでのフィルター（エキスパート/開発者/活用者/支援者）
  - [x] AIツールでのフィルター（ChatGPT、Claude等）
  - [x] AI活用経験年数でのフィルター（1年未満/1-2年/3年以上）
  - [x] 時間単価でのフィルター（〜3000円/3000-5000円/5000円〜）
  - [x] 稼働可能な人材のみ表示オプション
  - [x] フィルター適用数の表示とクリア機能
- [x] AI対話型プロジェクト作成（2日）✅ 2025年1月16日完了  
  - [x] Gemini 2.0 Flash APIの統合
  - [x] AIプロジェクトウィザードコンポーネント実装
  - [x] 対話型要件ヒアリング機能
  - [x] プロジェクト要件の自動分析と抽出
  - [x] 専門コンサルタントとしての振る舞い実装
  - [x] ROI計算と段階的提案機能
  - [x] 適切なタイミングでのプロジェクト案提示
  - [x] UI/UXの改善（改行表示、3行入力、シンプル化）
  - [x] メッセージ改善：「チャットを続けて要件を詰める」表現に変更

### MVP向け実装（1週間）
- [x] ProDashboardでのマッチングプロジェクト表示 ✅ 2025年1月17日完了
  - [x] recommendedProjectsセクションの拡充
  - [x] マッチングプロジェクト専用の目立つセクション
  - [x] ワンクリック応募機能（「応募する」ボタン）
  - [x] 応募済みプロジェクトの除外
  - [x] プロジェクト説明文の表示
  - [x] AIレベル要件のバッジ表示
- [x] クライアント向けプロジェクト管理ページ ✅ 2025年1月17日完了
  - [x] /projects/my ページの作成
  - [x] プロジェクト一覧と応募管理の2タブ構成
  - [x] ダッシュボードのサマリーカードからの導線
  - [x] ステータスフィルターと検索機能
  - [x] 応募者のプロフィール情報表示
- [x] 通知センターの実装（NotificationCenter.tsx）✅ 2025年1月17日完了
  - [x] 未読通知数の表示
  - [x] 通知リストの表示
  - [x] 既読/未読の管理
  - [x] プロジェクト詳細へのリンク
  - [x] 通知ドロップダウンの実装
  - [x] 全通知一覧ページ（/notifications）
  - [x] リアルタイム通知更新
  - [x] 通知の動作確認とテスト
- [x] プロジェクト詳細ページでのマッチング候補表示（クライアント向け）✅ 2025年1月17日完了
  - [x] 上位マッチング人材の表示（最大5名）
  - [x] シンプルな推薦理由（スコア非表示）
  - [x] 「最も適合」バッジ（1位のみ）
  - [x] スカウトボタン（プレースホルダー）
- [x] ~~応募時のマッチングスコア表示~~ → MVPから除外（チープなロジックのため）
- [x] プロフィール充実度の表示とガイド ✅ 2025年1月17日完了
  - [x] 入力率の表示（7項目で100点満点）
  - [x] 不足項目のハイライト
  - [x] 改善提案の表示（影響度付き）
  - [x] ProDashboardとプロフィール編集ページに実装
- [x] エラーハンドリングとユーザー体験の改善 ✅ 2025年1月17日完了
  - [x] トースト通知システムの実装
  - [x] 重複応募エラーの適切な処理
  - [x] フォームバリデーションの強化
  - [x] 統一されたローディングコンポーネント
  - [x] 日本語のエラーメッセージ

### フェーズ2の準備（1ヶ月後目標）
- [ ] AI活用の要件分析機能（Gemini活用の高度化）
- [ ] プロフィール最適化支援
- [ ] 自動スクリーニング機能の設計

## 🔴 セキュリティ・基本機能（既存機能の維持）

### 認証・セキュリティ（重要だがこれはTodoリストの最後に回す）
- [ ] メール認証フローの実装（現在、メール確認なしでログインできる問題）
- [ ] パスワードリセット機能の動作確認と修正
- [ ] セッション管理の強化（タイムアウト設定など）
- [ ] 2要素認証の実装

### データ整合性（重要だがこれはTodoリストの最後に回す）
- [ ] プロジェクト削除時の関連データ（応募、メッセージ）の適切な処理
- [ ] ユーザー削除時のデータ処理フローの確認
- [ ] データベーストランザクションの実装

### UI/UXの改善（重要だがこれはTodoリストの最後に回す）
- [ ] エラーメッセージの日本語化と詳細化
- [ ] ローディング状態の統一（全ページで同じローディングコンポーネント使用）
- [ ] フォームバリデーションの強化（リアルタイムバリデーション）
- [ ] レスポンシブデザインの改善（特にモバイル対応）

## 🟡 AI人材マッチング強化機能（フェーズ2: 1ヶ月）

### レベル別検索・フィルター機能
- [x] AI人材レベル別検索 ✅ 基本実装済み
- [ ] スマートマッチング機能の高度化
  - [ ] レベル適合度の詳細分析
  - [ ] 必要スキルと保有スキルのギャップ分析
  - [ ] 代替人材の提案（似たスキルセット）
- [ ] マッチング理由の可視化強化
  - [ ] より詳細な説明文生成
  - [ ] スキル一致度のビジュアル表示
  - [ ] 過去の類似案件実績表示

### AI案件向け通知最適化
- [x] 基本通知機能（実装済み）
- [x] マッチング通知（上位5名への自動通知）✅ 2025年1月16日実装
- [ ] AI活用のヒント通知
  - [ ] 新しいAIツールの紹介
  - [ ] 活用事例の共有通知
  - [ ] スキルアップ機会の通知

### AI人材向けポートフォリオ管理
- [x] AI活用実績の管理 ✅ 2025年1月14日完了（シンプルなテキスト形式で実装）
- [ ] 詳細な事例アップロード機能（将来の拡張として）
  - [ ] 成果物のスクリーンショット
  - [ ] プロンプト例の保存
  - [ ] 効果測定データの添付
- [ ] スキル証明書類
  - [ ] 資格証明書アップロード
  - [ ] 研修修了証
  - [ ] プロジェクト実績書類

### メッセージング機能の拡張
- [x] メッセージの編集・削除機能（2025年6月11日完了）
  - 編集履歴の保存（edit_history JSONB）
  - 論理削除（is_deleted, deleted_at, deleted_by）
  - リアルタイム更新対応
  - 編集済み表示
- [ ] ファイル添付機能
- [ ] 絵文字リアクション
- [ ] メッセージの検索機能
- [ ] 既読人数の表示（グループチャット対応準備）

## 実装履歴（2025年1月17日時点の詳細）

### 完了タスク一覧
- ✅ AI人材プロフィール拡張（profiles.profile_details）
- ✅ マッチングスコアテーブル作成とトリガー実装
- ✅ 同点5位への通知対応（6名以上でも通知）
- ✅ マッチングスコア制約修正（0-1→実際のスコア範囲）
- ✅ テストデータ作成（複数のプロユーザー）
- ✅ AI対話型プロジェクト作成ウィザード
- ✅ Gemini 2.0 Flash API統合
- ✅ 専門コンサルタントペルソナ実装
- ✅ UI/UXの継続的改善
- ✅ Todo.txt更新とプロジェクト状況整理
- ✅ AI会話履歴の保存機能（ai_conversationsテーブル）
- ✅ プロジェクトストーリー生成機能
- ✅ ProDashboardのマッチングプロジェクト表示強化
- ✅ クライアント向けプロジェクト管理ページ（/projects/my）
- ✅ 応募数0件の表示修正（「応募: 0」と表示）
- ✅ NotificationCenterコンポーネント実装（通知ドロップダウン）
- ✅ 通知一覧ページ（/notifications）作成
- ✅ 通知テーブル確認用マイグレーション作成（IF NOT EXISTS）
- ✅ 通知テーブル構造の修正（updated_at/metadataカラム追加、型の統一、重複ポリシー削除）
- ✅ Pro側ダッシュボードからの導線追加（応募状況カードのリンク化）
- ✅ 余計なLPヘッダー削除（layout.tsxからNavbar削除、page.tsxに移動）
- ✅ プロジェクト詳細ページのマッチング候補表示（スコア非表示、シンプルな推薦理由）
- ✅ TypeScriptビルドエラー修正（オプショナルチェーン）
- ✅ プロフィール充実度の表示とガイド（ProDashboard、プロフィール編集ページ）
- ✅ エラーハンドリングとUX改善（トースト通知、ローディング統一、日本語エラー）

## 🟢 品質向上・教育機能（フェーズ3: 3ヶ月）

### AI人材の成長支援
- [ ] レベル別スキル診断
  - [ ] 活用者向け：AIツール活用度チェック
  - [ ] 開発者向け：API実装スキルテスト
  - [ ] エキスパート向け：技術理解度診断
- [ ] AI活用事例の共有機能
  - [ ] 成功事例データベース
  - [ ] 業界別ベストプラクティス
  - [ ] 効果測定指標の共有
- [ ] スキルアップ支援
  - [ ] 次のレベルへの成長パス提示
  - [ ] 推奨学習リソース
  - [ ] メンター紹介機能

### クライアント向けAI活用支援
- [x] AI対話型要件定義支援 ✅ 2025年1月16日実装
  - [x] Gemini 2.0 Flashによる対話型ヒアリング
  - [x] 専門コンサルタントとしての要件分析
  - [x] ROI計算と投資対効果の提示
- [ ] AI活用度診断
  - [ ] 現在の活用レベル評価
  - [ ] 改善ポテンシャル分析
  - [ ] 投資対効果シミュレーション
- [ ] AI導入ロードマップ
  - [ ] 段階的導入計画の提案
  - [ ] 必要な人材タイプの提示
  - [ ] KPI設定支援

## 🔵 エコシステム構築（フェーズ4: 6ヶ月）

### AIコミュニティ機能
- [ ] レベル別コミュニティ
  - [ ] 初心者向け質問フォーラム
  - [ ] 実践者の情報交換
  - [ ] エキスパートの技術討論
- [ ] AI活用勉強会
  - [ ] オンラインセミナー機能
  - [ ] ハンズオンワークショップ
  - [ ] 成果発表会
- [ ] ナレッジ共有
  - [ ] プロンプト集の共有
  - [ ] 自動化スクリプト共有
  - [ ] 業界別活用テンプレート

### 企業向けエンタープライズ機能
- [ ] 組織アカウント
  - [ ] 複数案件の一括管理
  - [ ] チーム単位での発注
  - [ ] 予算管理機能
- [ ] AI人材プール
  - [ ] 優先マッチング契約
  - [ ] 専属AI人材の確保
  - [ ] SLA保証
- [ ] 導入効果レポート
  - [ ] ROI測定
  - [ ] 改善提案
  - [ ] ベンチマーク比較

### 評価・フィードバック
- [ ] 相互評価システムの実装
- [ ] レビュー・コメント機能
- [ ] 実績バッジシステム
- [ ] 信頼スコアの算出

### 分析・レポート
- [ ] プロジェクト分析ダッシュボード
- [ ] 応募分析（応募率、承認率など）
- [ ] エクスポート機能（CSV/PDF）
- [ ] 定期レポートメール

### コミュニケーション強化
- [ ] ビデオ通話機能の統合
- [ ] カレンダー連携（面談予約など）
- [ ] チーム機能（複数PM での応募）
- [ ] 掲示板・フォーラム機能

## 🟣 技術的改善

### パフォーマンス
- [ ] 画像の遅延読み込み実装
- [ ] ページネーションの最適化
- [ ] キャッシュ戦略の実装
- [ ] データベースクエリの最適化
- [ ] バンドルサイズの削減

### テスト
- [ ] 単体テストの実装（Jest）
- [ ] 統合テストの実装
- [ ] E2Eテストの実装（Playwright/Cypress）
- [ ] テストカバレッジ80%以上を目標

### 開発環境
- [ ] Storybook の導入
- [ ] ESLint/Prettier の設定強化
- [ ] pre-commit フックの設定
- [ ] CI/CD パイプラインの強化
- [ ] 環境変数の管理改善

### ドキュメント
- [ ] API ドキュメントの作成
- [ ] コンポーネントカタログ
- [ ] 開発者向けガイド
- [ ] デプロイメントガイド

## ⚫ ビジネス機能

### 収益化モデル
- [ ] AI人材レベル別料金プラン
  - [ ] 活用者：基本無料＋成約手数料
  - [ ] 開発者：月額プラン＋成約手数料
  - [ ] エキスパート：プレミアムプラン
- [ ] クライアント向けプラン
  - [ ] スタートアップ：案件数制限
  - [ ] ビジネス：無制限＋優先マッチング
  - [ ] エンタープライズ：専任サポート
- [ ] 付加価値サービス
  - [ ] スキル診断（有料オプション）
  - [ ] 優先表示オプション
  - [ ] AI活用コンサルティング

### 管理者機能
- [ ] 管理者ダッシュボード
- [ ] ユーザー管理機能
- [ ] コンテンツモデレーション
- [ ] システム設定画面
- [ ] お知らせ・メンテナンス告知機能

### 法的対応
- [ ] 利用規約ページ
- [ ] プライバシーポリシーページ
- [ ] 特定商取引法に基づく表記
- [ ] Cookie同意バナー

## 📝 その他

### SEO対策
- [ ] メタタグの最適化
- [ ] 構造化データの実装
- [ ] サイトマップの生成
- [ ] robots.txt の設定

### アクセシビリティ
- [ ] WCAG 2.1 AA準拠
- [ ] キーボードナビゲーション改善
- [ ] スクリーンリーダー対応
- [ ] 高コントラストモード

### 国際化
- [ ] 多言語対応（i18n）の基盤実装
- [ ] 日付・通貨フォーマットの国際化
- [ ] タイムゾーン対応

## AI人材マッチング実装の優先順位

### フェーズ1（2週間）- MVP実装 ✅ 完了
1. データベーススキーマ拡張 ✅
2. AI人材プロフィール画面 ✅
3. 基本マッチング機能 ✅
4. AI対話型プロジェクト作成 ✅
5. 通知システム（基本） ✅
6. プロフェッショナル一覧・検索 ✅
7. ProDashboardの強化 ✅
8. クライアント向けプロジェクト管理 ✅

### フェーズ2（1ヶ月）- 品質向上
1. 通知センターUI実装（次の優先事項）
2. プロジェクト詳細ページの拡張
3. プロフィール充実度ガイド
4. マッチングスコア可視化の強化

### フェーズ3（3ヶ月）- 差別化機能
1. プロフィール最適化支援
2. 依頼品質向上ツール
3. スキル診断・検証

### フェーズ4（6ヶ月）- 高度なAI活用
1. 自然言語処理による要件分析の高度化
2. 成功確率予測
3. 動的最適化

## 実装時の注意点

- 各機能実装前に要件定義書を更新
- データベーススキーマ変更時は migration を作成
- 新機能は feature flag で段階的リリース
- ユーザーテストを実施してフィードバックを収集
- パフォーマンスへの影響を常に監視

## 定期的なメンテナンス

- [ ] 依存関係の更新（月1回）
- [ ] セキュリティ監査（四半期ごと）
- [ ] バックアップ戦略の見直し（半年ごと）
- [ ] ユーザーフィードバックの収集と分析（継続的）

## 🎯 AI人材マッチングプラットフォーム実装計画

### 現在のデータベース構造（7テーブル + 追加）
1. **profiles** - profile_details (JSONB)にAI情報追加 ✅
2. **projects** - pro_requirements (JSONB)にAI要件追加 ✅
3. **applications** - 既存の応募機能をそのまま活用
4. **conversations/messages** - 既存のメッセージング活用
5. **notifications** - AI案件通知を追加 ✅
6. **matching_scores** - マッチングスコア保存 ✅ 追加済み
7. **saved_searches** - AIフィルター検索を保存

### 完了した主要機能（2025年1月17日時点）
1. **AI人材プロフィール機能** ✅
   - 4つのスキルレベル選択
   - AIツール経験の登録
   - 業務領域・活用実績の管理
2. **自動マッチングシステム** ✅
   - SQLトリガーによる自動計算
   - 5つの評価軸でスコアリング
   - 上位5名への自動通知（同点対応）
3. **AI対話型プロジェクト作成** ✅
   - Gemini 2.0 Flash統合
   - 専門コンサルタントとしての要件分析
   - プロジェクトストーリー生成
   - AI会話履歴の自動保存
4. **プロフェッショナル一覧機能** ✅
   - AI人材の検索・フィルター機能
   - スキルレベル・ツール別表示
   - 経験年数・単価でのソート
5. **ProDashboardの強化** ✅
   - マッチングプロジェクトの目立つ表示
   - ワンクリック応募機能
   - 応募済みプロジェクトの自動除外
6. **クライアント向けプロジェクト管理** ✅
   - 専用管理ページ（/projects/my）
   - ダッシュボードからの直接アクセス
   - 応募管理機能
7. **通知センター実装** ✅
   - NotificationCenterコンポーネント（ヘッダー統合）
   - リアルタイム通知更新
   - 通知一覧ページ（/notifications）
   - 未読管理・フィルタリング機能
8. **プロジェクト詳細ページのマッチング候補表示** ✅
   - 上位5名の候補者表示（クライアント向け）
   - シンプルな推薦理由（スコア非表示）
   - スカウトボタン（プレースホルダー）

### 今後の実装優先順位（戦略的ロードマップ）

#### 🔴 第1弾: 即効性重視（2週間）- ユーザビリティ向上
1. **検索・フィルタ機能の完成**
   - [ ] プロジェクト一覧ページ（/projects）の拡張
   - [ ] AI要件フィルタ（レベル、ツール、業務領域）
   - [ ] マッチング度順のソート機能
   - [ ] 予算・期間での絞り込み
   - [ ] 検索条件の保存機能

2. **AI活用事例機能**
   - [ ] ai_use_casesテーブルの作成
   - [ ] 事例登録フォーム（/profile/cases/new）
   - [ ] プロフィールでの事例表示
   - [ ] 事例ギャラリーページ（/ai-cases）
   - [ ] いいね・ブックマーク機能

#### 🟡 第2弾: 成約率向上（1ヶ月）
1. **スカウト機能**
   - [ ] スカウトメッセージ送信機能
   - [ ] スカウト専用通知タイプ
   - [ ] スカウト返信率の表示
   - [ ] テンプレート管理

2. **予算・期間の自動見積もり**
   - [ ] 類似案件分析エンドポイント
   - [ ] AI（Gemini）による工数予測
   - [ ] 相場情報の表示UI
   - [ ] 見積もり根拠の可視化

3. **提案支援機能**
   - [ ] レベル別提案テンプレート
   - [ ] AIによる提案文レビュー
   - [ ] 成功提案の参照機能

#### 🟢 第3弾: 信頼性構築（2ヶ月）
1. **評価・レビューシステム**
   - [ ] 5段階評価機能
   - [ ] スキル別評価
   - [ ] 実績バッジシステム
   - [ ] レビューへの返信

2. **スキル検証機能**
   - [ ] AIツール習熟度テスト
   - [ ] ポートフォリオ審査
   - [ ] 認定バッジ発行
   - [ ] 定期的な再認定

3. **成功事例の可視化**
   - [ ] プロジェクト完了レポート
   - [ ] ROI計算・表示
   - [ ] ケーススタディ作成
   - [ ] 成功要因分析

#### 🔵 第4弾: 高度な自動化（3ヶ月以降）
1. **AIによる要件分析強化**
   - [ ] 曖昧な要件の明確化
   - [ ] 技術的実現可能性診断
   - [ ] リスク要因の自動検出
   - [ ] 代替案の提案

2. **動的マッチング最適化**
   - [ ] リアルタイムスコア調整
   - [ ] 応募状況による推薦変更
   - [ ] 成功確率予測
   - [ ] A/Bテストによる改善

3. **学習支援エコシステム**
   - [ ] スキルギャップ分析
   - [ ] パーソナライズ学習パス
   - [ ] オンライン勉強会
   - [ ] メンター紹介